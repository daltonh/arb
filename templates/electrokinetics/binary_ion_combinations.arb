# these are relationships that involve combinations of ion properties
# here they are specific to a binary system of <ion+ n> and <ion- n>, so need overwriting for more complex systems
# include this early on, before p_error inclusion

# include positive ion concentrations
INCLUDE "ion_concentrations" REPLACE "<ion" WITH "<ion+"
# include negative ion concentrations
INCLUDE "ion_concentrations" REPLACE "<ion" WITH "<ion-"

# also define the following locals
CELL_LOCAL <rho_e> "<e>*(<ion+ z>*<ion+ n>+<ion- z>*<ion- n>)" # used on right of poisson equation
CELL_LOCAL <rho_e pos> "<e>*(<ion+ z>*<ion+ n pos>+<ion- z>*<ion- n pos>)" # used in momentum balance (navier-stokes)
FACE_LOCAL <rho_e_hf> "<e>*(<ion+ z>*<ion+ n_hf>+<ion- z>*<ion- n_hf>)" ON <all faces> output
CELL_LOCAL <n_0^2 signed> "cellmin(<ion+ n>,<ion- n>)*abs(cellmax(<ion+ n>,<ion- n>))"

# for error checking
#CELL_OUTPUT <rho_e error> "<rho_e>-<rho_e pos>" ON <all cells>
