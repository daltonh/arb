# Reconstructed list of the variables in arb format:
#--------------------------------------------------------------------------------
# constant variables:
NONE_CONSTANT <mu> [Pa.s] "1.d0/<Re>" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/constants.arb ../../templates/navier_stokes/nondimensional_constants.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/constants.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/nondimensional_constants.arb: comments = # viscosity of liquid 
NONE_CONSTANT <rho> [kg/m^3] "numerical constant rather than an equation" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/constants.arb ../../templates/navier_stokes/nondimensional_constants.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/constants.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/nondimensional_constants.arb: comments = # density 
NONE_CONSTANT <u_av> [m/s] "numerical constant rather than an equation" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/constants.arb ../../templates/navier_stokes/nondimensional_constants.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/constants.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/nondimensional_constants.arb: comments = # required average inlet velocity (if used, sets flowrate through inlet) 
NONE_CONSTANT <C_{Rhie-Chow}> [1] "numerical constant rather than an equation" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/constants.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/constants.arb: comments = # multiplier for Rhie-Chow-type velocity interpolation
NONE_CONSTANT <adv_limiter> [1] "numerical constant rather than an equation" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/constants.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/constants.arb: comments = # multiplier used to limit gradients when calculating advection fluxes
NONE_CONSTANT <nodexmax[l=1]> [1] "nodemax(<nodex[l=1]>,region=<allnodes>)" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/general/domain_lengths.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/general/domain_lengths.arb: comments = empty
NONE_CONSTANT <nodexmax[l=2]> [1] "nodemax(<nodex[l=2]>,region=<allnodes>)" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/general/domain_lengths.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/general/domain_lengths.arb: comments = empty
NONE_CONSTANT <nodexmin[l=1]> [1] "nodemin(<nodex[l=1]>,region=<allnodes>)" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/general/domain_lengths.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/general/domain_lengths.arb: comments = empty
NONE_CONSTANT <nodexmin[l=2]> [1] "nodemin(<nodex[l=2]>,region=<allnodes>)" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/general/domain_lengths.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/general/domain_lengths.arb: comments = empty
NONE_CONSTANT <domain_length[l=1]> [1] "<nodexmax[l=1]>-<nodexmin[l=1]>" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/general/domain_lengths.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/general/domain_lengths.arb: comments = empty
NONE_CONSTANT <domain_length[l=2]> [1] "<nodexmax[l=2]>-<nodexmin[l=2]>" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/general/domain_lengths.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/general/domain_lengths.arb: comments = empty
NONE_CONSTANT <a_lengthscale> [1] "nonemax(<domain_length[l=1]>,nonemax(<domain_length[l=2]>,<domain_length[l=3]>))" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/general/domain_lengthscale.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/general/domain_lengthscale.arb: comments = empty
NONE_CONSTANT <Re> [1] "numerical constant rather than an equation" # other information: region = empty: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/constants.arb ../../templates/navier_stokes/nondimensional_constants.arb flow_around_2d_cylinder.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/constants.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/nondimensional_constants.arb /home/daltonh/fortran/arb/testsuite/arb_develop/examples/flow_around_2d_cylinder/flow_around_2d_cylinder.arb: comments = # Reynolds number # Reynolds number, overwrite this after this file is included # Reynolds number
FACE_CONSTANT <dot_facenorm_facedxunit> [1] "(  + (<facenorm[l=1]>)*(<facedxunit[l=1]>) + (<facenorm[l=2]>)*(<facedxunit[l=2]>) + (<facenorm[l=3]>)*(<facedxunit[l=3]>) )" ON <allfaces> # other information: region = <allfaces>: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/p_error.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_error.arb: comments = # now defined on <allfaces> to allow use as a BC
#--------------------------------------------------------------------------------
# transient variables:
#--------------------------------------------------------------------------------
# newtient variables:
#--------------------------------------------------------------------------------
# unknown variables:
CELL_UNKNOWN <u[l=1]> [1] "0.d0" ON <allcells> # other information: region = <allcells>: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/unknowns.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/unknowns.arb: comments = empty
CELL_UNKNOWN <u[l=2]> [1] "0.d0" ON <allcells> # other information: region = <allcells>: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/unknowns.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/unknowns.arb: comments = # velocity component
CELL_UNKNOWN <p> [1] "1.d0" ON <allcells> # other information: region = <allcells>: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/unknowns.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/unknowns.arb: comments = # pressure
#--------------------------------------------------------------------------------
# derived variables:
FACE_DERIVED <ugrad_f[l=1,1]> [1] "facegrad[l=1,](<u[l=1]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_gradient_tensor.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_gradient_tensor.arb: comments = empty
FACE_DERIVED <ugrad_f[l=2,1]> [1] "facegrad[l=2,](<u[l=1]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_gradient_tensor.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_gradient_tensor.arb: comments = empty
FACE_DERIVED <ugrad_f[l=1,2]> [1] "facegrad[l=1,reflect=2](<u[l=2]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_gradient_tensor.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_gradient_tensor.arb: comments = empty
FACE_DERIVED <ugrad_f[l=2,2]> [1] "facegrad[l=2,reflect=2](<u[l=2]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_gradient_tensor.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_gradient_tensor.arb: comments = empty
FACE_DERIVED <p_f> [1] "faceave(<p>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/p_f.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_f.arb: comments = empty
CELL_DERIVED <dynamic_force_c[l=1]> [1] "-celldivgrad[l=1](<p_f>)" ON <allcells> # other information: region = <allcells>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/dynamic_force.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/dynamic_force.arb: comments = empty
CELL_DERIVED <dynamic_force_c[l=2]> [1] "-celldivgrad[l=2](<p_f>)" ON <allcells> # other information: region = <allcells>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/dynamic_force.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/dynamic_force.arb: comments = empty
FACE_DERIVED <p_error> [1] "faceif(<facereflectnorm>,(-<dynamic_force_f>+faceif(facedelta(region=<boundaries>),faceave[downcell]((  + (<dynamic_force_c[l=1]>)*(cellave[lastface](<facedxunit[l=1]>)) + (<dynamic_force_c[l=2]>)*(cellave[lastface](<facedxunit[l=2]>)) + (<dynamic_force_c[l=3]>)*(cellave[lastface](<facedxunit[l=3]>)) )),faceave[adjacentcells]((  + (<dynamic_force_c[l=1]>)*(cellave[lastface](<facedxunit[l=1]>)) + (<dynamic_force_c[l=2]>)*(cellave[lastface](<facedxunit[l=2]>)) + (<dynamic_force_c[l=3]>)*(cellave[lastface](<facedxunit[l=3]>)) ))))*<dot_facenorm_facedxunit>,0.d0)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/p_error.arb ../../templates/navier_stokes/p_extrapolation_rhie_chow.arb ../../templates/navier_stokes/p_extrapolation_rhie_chow.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_error.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_extrapolation_rhie_chow.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_extrapolation_rhie_chow.arb: comments =   
FACE_DERIVED <u_f_{raw}> [1] "(  + (<u_f_vect[l=1]>)*(<facenorm[l=1]>) + (<u_f_vect[l=2]>)*(<facenorm[l=2]>) + (<u_f_vect[l=3]>)*(<facenorm[l=3]>) )" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_f.arb flow_around_2d_cylinder.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb /home/daltonh/fortran/arb/testsuite/arb_develop/examples/flow_around_2d_cylinder/flow_around_2d_cylinder.arb: comments = # volume (velocity) transport 
FACE_DERIVED <u_f_{correction}> [1] "-<C_{Rhie-Chow}>*<p_error>/(<u_rf_{vis}>+<u_rf_{adv}>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_f.arb ../../templates/navier_stokes/u_f.arb ../../templates/navier_stokes/u_f.arb ../../templates/navier_stokes/p_extrapolation_rhie_chow.arb ../../templates/navier_stokes/p_extrapolation_rhie_chow.arb flow_around_2d_cylinder.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_extrapolation_rhie_chow.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_extrapolation_rhie_chow.arb /home/daltonh/fortran/arb/testsuite/arb_develop/examples/flow_around_2d_cylinder/flow_around_2d_cylinder.arb: comments =      
FACE_DERIVED <u_f> [1] "<u_f_{raw}>+faceif(facedelta(<domainfaces>),<u_f_{correction}>,0.d0)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_f.arb flow_around_2d_cylinder.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb /home/daltonh/fortran/arb/testsuite/arb_develop/examples/flow_around_2d_cylinder/flow_around_2d_cylinder.arb: comments = # volume (velocity) transport 
FACE_DERIVED <J_f[l=1]> [1] "(  + (<facenorm[l=1]>)*(<tau[l=1,1]>) + (<facenorm[l=2]>)*(<tau[l=2,1]>) + (<facenorm[l=3]>)*(<tau[l=3,1]>) )+<J_advection_f[l=1]>" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/momentum_flux.arb ../../templates/navier_stokes/momentum_flux.arb flow_around_2d_cylinder.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/momentum_flux.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/momentum_flux.arb /home/daltonh/fortran/arb/testsuite/arb_develop/examples/flow_around_2d_cylinder/flow_around_2d_cylinder.arb: comments =   
FACE_DERIVED <J_f[l=2]> [1] "(  + (<facenorm[l=1]>)*(<tau[l=1,2]>) + (<facenorm[l=2]>)*(<tau[l=2,2]>) + (<facenorm[l=3]>)*(<tau[l=3,2]>) )+<J_advection_f[l=2]>" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/momentum_flux.arb ../../templates/navier_stokes/momentum_flux.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/momentum_flux.arb /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/momentum_flux.arb: comments =  
NONE_DERIVED <inlet u_av_calc> [1] "facesum(-<u_f>*<facearea>,<inlet>)/facesum(<facearea>,<inlet>)" # other information: region = empty: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/boundary_equations.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/boundary_equations.arb: comments = # calculate average velocity directed into the domain
NONE_DERIVED <inlet centreline gradp> [1] "facesum(<dynamic_force_f>,region=<inlet centreline>)" # other information: region = empty: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/boundary_equations.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/boundary_equations.arb: comments = empty
#--------------------------------------------------------------------------------
# equation variables:
CELL_EQUATION <continuity> [1] "celldiv(1.d0*<u_f>)/1.d0" ON <domain> # other information: region = <domain>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/conservation.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/conservation.arb: comments = # continuity
CELL_EQUATION <momentum[l=1]> [1] "celldiv(1.d0*<J_f[l=1]>)/1.d0-<dynamic_force_c[l=1]>" ON <domain> # other information: region = <domain>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/conservation.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/conservation.arb: comments = empty
CELL_EQUATION <momentum[l=2]> [1] "celldiv(1.d0*<J_f[l=2]>)/1.d0-<dynamic_force_c[l=2]>" ON <domain> # other information: region = <domain>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/conservation.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/conservation.arb: comments = # momentum component'
FACE_EQUATION <outlet fully developed> [1] "(  + (<ugrad_f[l=1,1]>)*(<facenorm[l=1]>*<facenorm[l=1]>) + (<ugrad_f[l=1,2]>)*(<facenorm[l=2]>*<facenorm[l=1]>) + (<ugrad_f[l=1,3]>)*(<facenorm[l=3]>*<facenorm[l=1]>) + (<ugrad_f[l=2,1]>)*(<facenorm[l=1]>*<facenorm[l=2]>) + (<ugrad_f[l=2,2]>)*(<facenorm[l=2]>*<facenorm[l=2]>) + (<ugrad_f[l=2,3]>)*(<facenorm[l=3]>*<facenorm[l=2]>) + (<ugrad_f[l=3,1]>)*(<facenorm[l=1]>*<facenorm[l=3]>) + (<ugrad_f[l=3,2]>)*(<facenorm[l=2]>*<facenorm[l=3]>) + (<ugrad_f[l=3,3]>)*(<facenorm[l=3]>*<facenorm[l=3]>) )" ON <outlet> # other information: region = <outlet>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_fully_developed.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_fully_developed.arb: comments = # normal velocity component is fully developed
FACE_EQUATION <outlet noslip1> [1] "(  + (<u_f_vect[l=1]>)*(<facetang1[l=1]>) + (<u_f_vect[l=2]>)*(<facetang1[l=2]>) + (<u_f_vect[l=3]>)*(<facetang1[l=3]>) )" ON <outlet> # other information: region = <outlet>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/noslip.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/noslip.arb: comments = # no component tangential to the face
FACE_EQUATION <outlet flowrate equation> [1] "<p_f>-0.d0" ON <outlet> # other information: region = <outlet>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/boundary_equations.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/boundary_equations.arb: comments = # specified pressure
FACE_EQUATION <sphere pextrapolation> [1] "<u_f>-faceave[downcell]((  + (<u[l=1]>)*(cellave[lastface](<facenorm[l=1]>)) + (<u[l=2]>)*(cellave[lastface](<facenorm[l=2]>)) + (<u[l=3]>)*(cellave[lastface](<facenorm[l=3]>)) ))-<u_f_{correction}>" ON <sphere> # other information: region = <sphere>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/p_extrapolation_rhie_chow.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_extrapolation_rhie_chow.arb: comments = # pressure gradient next to wall set so that dynamic pressure gradient inext to wall is zero
FACE_EQUATION <sphere noslip1> [1] "(  + (<u_f_vect[l=1]>)*(<facetang1[l=1]>) + (<u_f_vect[l=2]>)*(<facetang1[l=2]>) + (<u_f_vect[l=3]>)*(<facetang1[l=3]>) )" ON <sphere> # other information: region = <sphere>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/noslip.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/noslip.arb: comments = # no component tangential to the face
FACE_EQUATION <sphere flowrate equation> [1] "<u_f>" ON <sphere> # other information: region = <sphere>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/boundary_equations.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/boundary_equations.arb: comments = # zero velocity
FACE_EQUATION <walls pextrapolation> [1] "<u_f>-faceave[downcell]((  + (<u[l=1]>)*(cellave[lastface](<facenorm[l=1]>)) + (<u[l=2]>)*(cellave[lastface](<facenorm[l=2]>)) + (<u[l=3]>)*(cellave[lastface](<facenorm[l=3]>)) ))-<u_f_{correction}>" ON <walls> # other information: region = <walls>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/p_extrapolation_rhie_chow.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_extrapolation_rhie_chow.arb: comments = # pressure gradient next to wall set so that dynamic pressure gradient inext to wall is zero
FACE_EQUATION <walls slip1> [1] "(  + (<ugrad_f[l=1,1]>)*(<facetang1[l=1]>*<facenorm[l=1]>) + (<ugrad_f[l=1,2]>)*(<facetang1[l=2]>*<facenorm[l=1]>) + (<ugrad_f[l=1,3]>)*(<facetang1[l=3]>*<facenorm[l=1]>) + (<ugrad_f[l=2,1]>)*(<facetang1[l=1]>*<facenorm[l=2]>) + (<ugrad_f[l=2,2]>)*(<facetang1[l=2]>*<facenorm[l=2]>) + (<ugrad_f[l=2,3]>)*(<facetang1[l=3]>*<facenorm[l=2]>) + (<ugrad_f[l=3,1]>)*(<facetang1[l=1]>*<facenorm[l=3]>) + (<ugrad_f[l=3,2]>)*(<facetang1[l=2]>*<facenorm[l=3]>) + (<ugrad_f[l=3,3]>)*(<facetang1[l=3]>*<facenorm[l=3]>) )" ON <walls> # other information: region = <walls>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/slip.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/slip.arb: comments = # no derivative of component tangential to the face
FACE_EQUATION <walls flowrate equation> [1] "<u_f>" ON <walls> # other information: region = <walls>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/boundary_equations.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/boundary_equations.arb: comments = # zero velocity
FACE_EQUATION <inlet fully developed> [1] "(  + (<ugrad_f[l=1,1]>)*(<facenorm[l=1]>*<facenorm[l=1]>) + (<ugrad_f[l=1,2]>)*(<facenorm[l=2]>*<facenorm[l=1]>) + (<ugrad_f[l=1,3]>)*(<facenorm[l=3]>*<facenorm[l=1]>) + (<ugrad_f[l=2,1]>)*(<facenorm[l=1]>*<facenorm[l=2]>) + (<ugrad_f[l=2,2]>)*(<facenorm[l=2]>*<facenorm[l=2]>) + (<ugrad_f[l=2,3]>)*(<facenorm[l=3]>*<facenorm[l=2]>) + (<ugrad_f[l=3,1]>)*(<facenorm[l=1]>*<facenorm[l=3]>) + (<ugrad_f[l=3,2]>)*(<facenorm[l=2]>*<facenorm[l=3]>) + (<ugrad_f[l=3,3]>)*(<facenorm[l=3]>*<facenorm[l=3]>) )" ON <inlet> # other information: region = <inlet>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_fully_developed.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_fully_developed.arb: comments = # normal velocity component is fully developed
FACE_EQUATION <inlet noslip1> [1] "(  + (<u_f_vect[l=1]>)*(<facetang1[l=1]>) + (<u_f_vect[l=2]>)*(<facetang1[l=2]>) + (<u_f_vect[l=3]>)*(<facetang1[l=3]>) )" ON <inlet> # other information: region = <inlet>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/noslip.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/noslip.arb: comments = # no component tangential to the face
NONE_EQUATION <inlet centreline flowrate equation> [1] "<inlet u_av_calc>-<u_av>" # other information: region = empty: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/boundary_equations.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/boundary_equations.arb: comments = # set flowrate through region to give required average velocity
FACE_EQUATION <inlet flowrate equation> [1] "<dynamic_force_f>-<inlet centreline gradp>" ON <inlet sans centreline> # other information: region = <inlet sans centreline>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/boundary_equations.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/boundary_equations.arb: comments = empty
#--------------------------------------------------------------------------------
# output variables:
FACE_OUTPUT <advection correction limited> [1] "faceif(<facedx>^2/<mu>-<facedx>/(<rho>*facemax(abs(<u_f_{raw}>),1.d-10)),1.d0,0.d0)" ON <domainfaces> # other information: region = <domainfaces>: deriv = 0: newtstepmax = empty: newtstepmin = empty: filename = flow_around_2d_cylinder.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/examples/flow_around_2d_cylinder/flow_around_2d_cylinder.arb: comments = # is 1 where advection component is limiting velocity correction
#--------------------------------------------------------------------------------
# condition variables:
#--------------------------------------------------------------------------------
# local variables:
FACE_LOCAL <tau[l=1,1]> [1] "-<mu>*(<ugrad_f[l=1,1]>+<ugrad_f[l=1,1]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/total_stress.arb flow_around_2d_cylinder.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/total_stress.arb /home/daltonh/fortran/arb/testsuite/arb_develop/examples/flow_around_2d_cylinder/flow_around_2d_cylinder.arb: comments =  
FACE_LOCAL <tau[l=2,1]> [1] "-<mu>*(<ugrad_f[l=2,1]>+<ugrad_f[l=1,2]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/total_stress.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/total_stress.arb: comments = empty
FACE_LOCAL <tau[l=1,2]> [1] "-<mu>*(<ugrad_f[l=1,2]>+<ugrad_f[l=2,1]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/total_stress.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/total_stress.arb: comments = empty
FACE_LOCAL <tau[l=2,2]> [1] "-<mu>*(<ugrad_f[l=2,2]>+<ugrad_f[l=2,2]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/total_stress.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/total_stress.arb: comments = # note, maxima will simplify diagonal components
FACE_LOCAL <dynamic_force_f> [1] "-facegrad[dxunit](<p>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/p_error.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/p_error.arb: comments = # now defined on <allfaces> to allow use as a BC
FACE_LOCAL <u_f_vect[l=1]> [1] "faceave[](<u[l=1]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_f.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb: comments = empty
FACE_LOCAL <u_f_vect[l=2]> [1] "faceave[reflect=2](<u[l=2]>)" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_f.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb: comments = empty
FACE_LOCAL <u_rf_{vis}> [1] "<mu>/<facedx>^2" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_f.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb: comments = # incase pextrapolationrhiechow is on, define these locals on allfaces (makes no difference to efficiency as they are locals anyway)
FACE_LOCAL <u_f_vect_magnitude> [1] "sqrt(facemax((  + (<u_f_vect[l=1]>)*(<u_f_vect[l=1]>) + (<u_f_vect[l=2]>)*(<u_f_vect[l=2]>) + (<u_f_vect[l=3]>)*(<u_f_vect[l=3]>) ),<tinyish>))" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_f.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb: comments = empty
FACE_LOCAL <u_rf_{adv}> [1] "2.d0*<rho>*<u_f_vect_magnitude>/<facedx>" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/u_f.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/u_f.arb: comments = empty
FACE_LOCAL <J_advection_f[l=1]> [1] "<rho>*faceave[advection,](<u[l=1]>,<u_f>,<adv_limiter>)*<u_f>" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/advection_flux.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/advection_flux.arb: comments = empty
FACE_LOCAL <J_advection_f[l=2]> [1] "<rho>*faceave[advection,reflect=2](<u[l=2]>,<u_f>,<adv_limiter>)*<u_f>" ON <allfaces> # other information: region = <allfaces>: deriv = 1: newtstepmax = empty: newtstepmin = empty: filename = ../../templates/navier_stokes/advection_flux.arb: absfilename = /home/daltonh/fortran/arb/testsuite/arb_develop/templates/navier_stokes/advection_flux.arb: comments = empty
#--------------------------------------------------------------------------------
